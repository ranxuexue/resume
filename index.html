<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"/>
    <title></title>
    <link rel="stylesheet" href="css/reset.min.css"/>
    <link rel="stylesheet" href="css/swiper.min.css"/>
    <link rel="stylesheet" href="css/animate.css"/>
    <link rel="stylesheet" href="css/index.css"/>
    <script>
        var desW = 750;
        var winW = document.documentElement.clientWidth;
        var desWfontSize = 100;
        //desW/winW = 100/fs
        document.documentElement.style.fontSize = winW / desW * desWfontSize + 'px';
    </script>
</head>
<body>
<div id="main">
    <div class="music">
        <audio src="audio/beyond.mp3" loop preload="none" id="beyond"></audio>
        <!--
        preload:
            none:不预加载音视频
            metadata：只加载元数据 eg：音频的长度
            auto：预加载全部音视频
        controls:显示音视频的用户操作界面
        -->
    </div>
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide slide1">
                    <div class="photo"></div>
                    <img src="img/8.png"/>
                    <img src="img/p1.png"/>
                    <img src="img/1.png"/>
                    <img src="img/7.png"/>
                    <img src="img/9.png"/>
                    <img src="img/g.png"/>
                    <img src="img/r.png"/>
                    <img src="img/j.png"/>
                    <img src="img/l.png"/>
            </div>
            <div class="swiper-slide slide2">
                <img src="img/3.png"/>
                <img src="img/snow.png"/>
                <img src="img/snow.png"/>
                <img src="img/snow.png"/>
                <img src="img/snow.png"/>
                <img src="img/snow.png"/>
                <img src="img/snow.png"/>
                <p>个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个个个个个人简历</p>
                <p>个人简历个人简个个个个个个简个人简人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个个个个个个人简历</p>
                <p>个人简历个人个人个个个个个个个个个简个人简人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历</p>
                <p>个人简历个人简个人简个人简个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历</p>
                <p>个人简历个人简个人简个人简个人简个人简个人简简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历个人简历</p>
            </div>
        </div>
    </div>
</div>
<script src="js/swiper.min.js"></script>
<script>
    var mySwiper = new Swiper('.swiper-container', {
        direction: 'vertical',//上下滑动
        loop: true,//循环
        onSlideChangeEnd: function (swiper) {
            var slides = swiper.slides;//获取所有的滑块
            var curIndex = swiper.activeIndex;//当前滑动的滑块的索引

            var trueSlideNum = slides.length - 2;//真实滑块的个数
            var lastSlideNum = trueSlideNum + 1;//最后一个滑块的索引
            [].forEach.call(slides, function (item, index) {
                item.id = '';
                if (index == curIndex) {
                    switch (index) {
                        case 0://第一个滑块时真实的最后一个的复制
                            item.id = "page" + trueSlideNum;
                            break;
                        case lastSlideNum://最后一个滑块是真实的第一个复制
                            item.id = "page1";
                            break;
                        default :
                            item.id = "page" + curIndex;
                    }
//                    slides[index].id = 'page' + (index + 1);
                }
            })
        },
        onInit: function (swiper) {
            //初始化完成之后，给第一个滑块添加默认效果
//            var slides = swiper.slides;
//            slides[0].id = 'page1';
        }
    });

    var beyond = document.querySelector('#beyond');
    var music = document.querySelector('.music');
    window.setTimeout(function () {
        beyond.play();//音频播放  边缓冲边播放
        beyond.addEventListener("canplay", function () {
            music.className = "music musicMove";
            music.style.opacity = 1;
        });
    }, 1000);
    music.addEventListener("click", function () {
        if(beyond.paused){//停止
            beyond.play();
            music.className = "music musicMove";
        }else{//播放
            beyond.pause();
            music.className = "music";
        }
    })
</script>
</body>
</html>